{"remainingRequest":"/home/osboxes/Cardinal_frontend/node_modules/babel-loader/lib/index.js!/home/osboxes/Cardinal_frontend/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/home/osboxes/Cardinal_frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/osboxes/Cardinal_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/osboxes/Cardinal_frontend/src/components/Timer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/osboxes/Cardinal_frontend/src/components/Timer.vue","mtime":1706256252233},{"path":"/home/osboxes/Cardinal_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1706256287886},{"path":"/home/osboxes/Cardinal_frontend/node_modules/babel-loader/lib/index.js","mtime":1706256287673},{"path":"/home/osboxes/Cardinal_frontend/node_modules/vuetify-loader/lib/loader.js","mtime":1706256286671},{"path":"/home/osboxes/Cardinal_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1706256287886},{"path":"/home/osboxes/Cardinal_frontend/node_modules/vue-loader/lib/index.js","mtime":1706256337311}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJUaW1lciIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpbWVyOiBudWxsLAogICAgICByZXF1ZXN0VGltZXI6IG51bGwsCiAgICAgIHRpbWU6IG51bGwsCiAgICAgIG1pbnV0ZTogMCwKICAgICAgc2Vjb25kOiAwCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0VGltZSgpOwogICAgdGhpcy5yZXF1ZXN0VGltZXIgPSBzZXRJbnRlcnZhbCh0aGlzLmdldFRpbWUsIDEwMDAwKTsKICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCh0aGlzLnRpbWVUaWNrLCAxMDAwKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICBjbGVhckludGVydmFsKHRoaXMucmVxdWVzdFRpbWVyKTsKICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRUaW1lOiBmdW5jdGlvbiBnZXRUaW1lKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy51dGlscy5HRVQoIi90aW1lIikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMudGltZSA9IHJlczsKCiAgICAgICAgX3RoaXMudGltZVRpY2soKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5pe26Ze05YCS5pWwCiAgICB0aW1lVGljazogZnVuY3Rpb24gdGltZVRpY2soKSB7CiAgICAgIHRoaXMudGltZS5Sb3VuZFJlbWFpblRpbWUtLTsKICAgICAgdGhpcy5taW51dGUgPSBNYXRoLmZsb29yKHRoaXMudGltZS5Sb3VuZFJlbWFpblRpbWUgLyA2MCk7CiAgICAgIHRoaXMuc2Vjb25kID0gdGhpcy50aW1lLlJvdW5kUmVtYWluVGltZSAtIHRoaXMubWludXRlICogNjA7CgogICAgICBpZiAodGhpcy50aW1lLlJvdW5kUmVtYWluVGltZSA8PSAwKSB7CiAgICAgICAgdGhpcy50aW1lLlJvdW5kUmVtYWluVGltZSA9IHRoaXMudGltZS5EdXJhdGlvbiAqIDYwOwogICAgICAgIHRoaXMudGltZS5Ob3dSb3VuZCsrOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Timer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,IADA;AAEA,MAAA,YAAA,EAAA,IAFA;AAIA,MAAA,IAAA,EAAA,IAJA;AAKA,MAAA,MAAA,EAAA,CALA;AAMA,MAAA,MAAA,EAAA;AANA,KAAA;AAQA,GAXA;AAYA,EAAA,OAZA,qBAYA;AACA,SAAA,OAAA;AACA,SAAA,YAAA,GAAA,WAAA,CAAA,KAAA,OAAA,EAAA,KAAA,CAAA;AACA,SAAA,KAAA,GAAA,WAAA,CAAA,KAAA,QAAA,EAAA,IAAA,CAAA;AACA,GAhBA;AAkBA,EAAA,aAlBA,2BAkBA;AACA,IAAA,aAAA,CAAA,KAAA,YAAA,CAAA;AACA,IAAA,aAAA,CAAA,KAAA,KAAA,CAAA;AACA,GArBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,OAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,GAAA;;AACA,QAAA,KAAA,CAAA,QAAA;AACA,OAHA;AAIA,KANA;AAQA;AACA,IAAA,QATA,sBASA;AACA,WAAA,IAAA,CAAA,eAAA;AACA,WAAA,MAAA,GAAA,IAAA,CAAA,KAAA,CAAA,KAAA,IAAA,CAAA,eAAA,GAAA,EAAA,CAAA;AACA,WAAA,MAAA,GAAA,KAAA,IAAA,CAAA,eAAA,GAAA,KAAA,MAAA,GAAA,EAAA;;AACA,UAAA,KAAA,IAAA,CAAA,eAAA,IAAA,CAAA,EAAA;AACA,aAAA,IAAA,CAAA,eAAA,GAAA,KAAA,IAAA,CAAA,QAAA,GAAA,EAAA;AACA,aAAA,IAAA,CAAA,QAAA;AACA;AACA;AAjBA;AAvBA,CAAA","sourcesContent":["<template>\n    <v-card-text class=\"text-center\" v-if=\"time !== null\">\n        <div v-if=\"time.Status === 'on'\">\n            <div>{{$t('timer.til_round_end',{round: time.NowRound})}}</div>\n            <p class=\"display-1 text--primary\">\n                {{minute}} {{$t('general.minute')}} {{second}} {{$t('general.second')}}\n            </p>\n        </div>\n        <div v-else-if=\"time.Status === 'wait'\">\n            <p class=\"display-1 text--primary\">\n                {{$t('timer.not_begin')}}\n            </p>\n        </div>\n        <div v-else-if=\"time.Status === 'pause'\">\n            <p class=\"display-1 text--primary\">\n                {{$t('timer.pause')}}\n            </p>\n        </div>\n        <div v-else-if=\"time.Status === 'end'\">\n            <p class=\"display-1 text--primary\">\n                {{$t('timer.end')}}\n            </p>\n        </div>\n    </v-card-text>\n</template>\n\n<script>\n    export default {\n        name: \"Timer\",\n        data() {\n            return {\n                timer: null,\n                requestTimer: null,\n\n                time: null,\n                minute: 0,\n                second: 0,\n            }\n        },\n        mounted() {\n            this.getTime()\n            this.requestTimer = setInterval(this.getTime, 10000)\n            this.timer = setInterval(this.timeTick, 1000)\n        },\n\n        beforeDestroy() {\n            clearInterval(this.requestTimer)\n            clearInterval(this.timer)\n        },\n\n        methods: {\n            getTime() {\n                this.utils.GET(\"/time\").then(res => {\n                    this.time = res\n                    this.timeTick()\n                })\n            },\n\n            // 时间倒数\n            timeTick() {\n                this.time.RoundRemainTime--\n                this.minute = Math.floor(this.time.RoundRemainTime / 60)\n                this.second = this.time.RoundRemainTime - this.minute * 60\n                if (this.time.RoundRemainTime <= 0) {\n                    this.time.RoundRemainTime = this.time.Duration * 60\n                    this.time.NowRound++\n                }\n            }\n        },\n    }\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/components"}]}