{"remainingRequest":"/home/kali/fronted_player/node_modules/babel-loader/lib/index.js!/home/kali/fronted_player/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/home/kali/fronted_player/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/kali/fronted_player/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kali/fronted_player/src/components/GameBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kali/fronted_player/src/components/GameBox.vue","mtime":1725797394770},{"path":"/home/kali/fronted_player/node_modules/cache-loader/dist/cjs.js","mtime":1718176688802},{"path":"/home/kali/fronted_player/node_modules/babel-loader/lib/index.js","mtime":1718176688789},{"path":"/home/kali/fronted_player/node_modules/vuetify-loader/lib/loader.js","mtime":1718176689266},{"path":"/home/kali/fronted_player/node_modules/cache-loader/dist/cjs.js","mtime":1718176688802},{"path":"/home/kali/fronted_player/node_modules/vue-loader/lib/index.js","mtime":1718176689251}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9ob21lL2thbGkvZnJvbnRlZF9wbGF5ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAnLi4vcm91dGVyLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJHYW1lQm94IiwKICAkYWN0aXZlRGlhbG9nSWQ6IG51bGwsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dEZXRhaWw6IGZhbHNlLAogICAgICBnYW1lQm94ZXM6IG51bGwsCiAgICAgIGdhbWVCb3hEZXRhaWw6IHsKICAgICAgICBUaXRsZTogJycsCiAgICAgICAgSVA6ICcnLAogICAgICAgIFBvcnQ6ICcnLAogICAgICAgIERlc2NyaXB0aW9uOiAnJwogICAgICB9LAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgLy8gQ29udHJvbCB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgZGlhbG9nCiAgICAgIHRpbWVyOiBudWxsLAogICAgICBpbmZvOiBudWxsLAogICAgICBzdGFydEZvcm06IHsKICAgICAgICBGcm9tOiBudWxsLAogICAgICAgIFRvOiBudWxsCiAgICAgIH0sCiAgICAgIHN0YXJ0VGltZTogbnVsbCwKICAgICAgZW5kVGltZTogbnVsbAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNob3dEaWFsb2c6IGZ1bmN0aW9uIHNob3dEaWFsb2coZ2FtZUJveCkgewogICAgICAvLyBjb25zb2xlLmxvZyhnYW1lQm94KTsKICAgICAgdGhpcy5nYW1lQm94RGV0YWlsID0gZ2FtZUJveDsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsgLy8gU2hvdyB0aGUgZGlhbG9nCiAgICB9LAogICAgY2xvc2VEaWFsb2c6IGZ1bmN0aW9uIGNsb3NlRGlhbG9nKCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsgLy8gSGlkZSB0aGUgZGlhbG9nCiAgICB9LAogICAgZ2V0R2FtZWJveGVzOiBmdW5jdGlvbiBnZXRHYW1lYm94ZXMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnV0aWxzLkdFVCgiL3RlYW0vZ2FtZWJveGVzIikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuZ2FtZUJveGVzID0gcmVzLm1hcChmdW5jdGlvbiAoZ2FtZUJveCkgewogICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIGdhbWVCb3gsIHsKICAgICAgICAgICAgSXNBdHRhY2tlZDogISFnYW1lQm94LklzQXR0YWNrZWQsCiAgICAgICAgICAgIC8vIOeiuuS/neWxrOaAp+aYr+WPjeaHieW8jwogICAgICAgICAgICBJc0Rvd246ICEhZ2FtZUJveC5Jc0Rvd24KICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRJbmZvOiBmdW5jdGlvbiBnZXRJbmZvKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMudXRpbHMuR0VUKCIvdGVhbS9pbmZvIikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLmluZm8gPSByZXM7CiAgICAgIH0pOwogICAgfSwKICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLnV0aWxzLlBPU1QoJy90ZWFtL3N0YXJ0JywgdGhpcy5zdGFydEZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMy4kbWVzc2FnZS5zdWNjZXNzKHJlcyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpczMuJG1lc3NhZ2UuZXJyb3IoZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgYWN0aXZhdGVCb3g6IGZ1bmN0aW9uIGFjdGl2YXRlQm94KGlkKSB7CiAgICAgIHRoaXMuJGFjdGl2ZURpYWxvZ0lkID0gaWQ7CiAgICAgIHRoaXMuc3RhcnRGb3JtLkZyb20gPSB0aGlzLmluZm8uSWQ7CiAgICAgIHRoaXMuc3RhcnRGb3JtLlRvID0gaWQ7IC8vIGNvbnNvbGUubG9nKHRoaXMuJGFjdGl2ZURpYWxvZ0lkKTsKICAgICAgLy8gY29uc29sZS5sb2coKWBBY3RpdmF0aW5nIGJveCB3aXRoIElEOiAke2lkfWApOwoKICAgICAgdGhpcy5zdGFydFRpbWUgPSBEYXRlLm5vdygpOyAvLyDntIDpjITmjInkuIvplovlp4vmjInpiJXnmoTmmYLplpPmiLMKCiAgICAgIEV2ZW50QnVzLiRlbWl0KCdzdGFydC10aW1lJywgdGhpcy5zdGFydFRpbWUpOwogICAgICB0aGlzLnN0YXJ0KCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRHYW1lYm94ZXMoKTsKICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCh0aGlzLmdldEdhbWVib3hlcywgNTAwMCk7CiAgICB0aGlzLmdldEluZm8oKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogIH0KfTs="},{"version":3,"sources":["GameBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA,SAAA,QAAA,QAAA,cAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,eAAA,EAAA,IAFA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,KADA;AAEA,MAAA,SAAA,EAAA,IAFA;AAGA,MAAA,aAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,EAAA,EAAA,EAFA;AAGA,QAAA,IAAA,EAAA,EAHA;AAIA,QAAA,WAAA,EAAA;AAJA,OAHA;AASA,MAAA,aAAA,EAAA,KATA;AASA;AACA,MAAA,KAAA,EAAA,IAVA;AAYA,MAAA,IAAA,EAAA,IAZA;AAaA,MAAA,SAAA,EAAA;AACA,QAAA,IAAA,EAAA,IADA;AAEA,QAAA,EAAA,EAAA;AAFA,OAbA;AAkBA,MAAA,SAAA,EAAA,IAlBA;AAmBA,MAAA,OAAA,EAAA;AAnBA,KAAA;AAqBA,GA1BA;AA6BA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,OADA,EACA;AACA;AACA,WAAA,aAAA,GAAA,OAAA;AACA,WAAA,aAAA,GAAA,IAAA,CAHA,CAGA;AACA,KALA;AAOA,IAAA,WAPA,yBAOA;AACA,WAAA,aAAA,GAAA,KAAA,CADA,CACA;AACA,KATA;AAWA,IAAA,YAXA,0BAWA;AAAA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,GAAA,CAAA,GAAA,CAAA,UAAA,OAAA,EAAA;AACA,mCACA,OADA;AAEA,YAAA,UAAA,EAAA,CAAA,CAAA,OAAA,CAAA,UAFA;AAEA;AACA,YAAA,MAAA,EAAA,CAAA,CAAA,OAAA,CAAA;AAHA;AAKA,SANA,CAAA;AAOA,OARA;AASA,KArBA;AAuBA,IAAA,OAvBA,qBAuBA;AAAA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,YAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,IAAA,GAAA,GAAA;AACA,OAFA;AAGA,KA3BA;AA6BA,IAAA,KA7BA,mBA6BA;AAAA;;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,aAAA,EAAA,KAAA,SAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,GAAA;AACA,OAFA,EAEA,KAFA,CAEA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA;AACA,OAJA;AAKA,KAnCA;AAqCA,IAAA,WArCA,uBAqCA,EArCA,EAqCA;AACA,WAAA,eAAA,GAAA,EAAA;AACA,WAAA,SAAA,CAAA,IAAA,GAAA,KAAA,IAAA,CAAA,EAAA;AACA,WAAA,SAAA,CAAA,EAAA,GAAA,EAAA,CAHA,CAIA;AACA;;AACA,WAAA,SAAA,GAAA,IAAA,CAAA,GAAA,EAAA,CANA,CAMA;;AACA,MAAA,QAAA,CAAA,KAAA,CAAA,YAAA,EAAA,KAAA,SAAA;AACA,WAAA,KAAA;AACA;AA9CA,GA7BA;AAgFA,EAAA,OAhFA,qBAgFA;AACA,SAAA,YAAA;AACA,SAAA,KAAA,GAAA,WAAA,CAAA,KAAA,YAAA,EAAA,IAAA,CAAA;AACA,SAAA,OAAA;AACA,GApFA;AAsFA,EAAA,aAtFA,2BAsFA;AACA,IAAA,aAAA,CAAA,KAAA,KAAA,CAAA;AACA;AAxFA,CAAA","sourcesContent":["<template>\n    <div>\n        <!-- 靶機資訊 -->\n        <div v-if=\"gameBoxes !== null\">\n            <v-list-item v-for=\"gameBox in gameBoxes\" :key=\"gameBox.ID\" @click=\"showDialog(gameBox)\">\n                <v-list-item-content>\n                    <v-list-item-title v-text=\"gameBox.Title\"/>\n                    <v-list-item-subtitle>{{gameBox.IP}}:{{gameBox.Port}}</v-list-item-subtitle>\n                    <v-list-item-subtitle>{{utils.FormatFloat(gameBox.Score)}} {{$t('general.score')}}</v-list-item-subtitle>\n                </v-list-item-content>\n\n                <v-list-item-action>\n                    <div v-if=\"!gameBox.IsAttacked && !gameBox.IsDown\">\n                        <v-chip class=\"ma-2\" color=\"green\" text-color=\"green\" outlined>Online</v-chip>\n                    </div>\n                    <div v-if=\"gameBox.IsDown\">\n                        <v-chip class=\"ma-2\" color=\"orange\" text-color=\"orange\" outlined>Down</v-chip>\n                    </div>\n                    <div v-if=\"gameBox.IsAttacked\">\n                        <v-chip class=\"ma-2\" color=\"red\" text-color=\"red\" outlined>Solved</v-chip>\n                    </div>\n                </v-list-item-action>\n            </v-list-item>\n        </div>\n        <v-list-item v-if=\"gameBoxes === null || gameBoxes.length === 0\">\n            <p>{{$t('gamebox.empty')}}</p>\n        </v-list-item>\n\n        <!-- 靶機詳細資訊 -->\n        <v-dialog v-model=\"dialogVisible\" persistent width=\"500\">\n            <v-card>\n                <v-card-title class=\"headline\" primary-title>\n                    {{ gameBoxDetail.Title }}\n                </v-card-title>\n                <v-card-text v-if=\"$activeDialogId === gameBoxDetail.ChallengeID\">\n                    <p><b>{{gameBoxDetail.IP}}:{{gameBoxDetail.Port}}</b></p>\n                    <v-textarea filled auto-grow rows=\"4\" shaped :disabled=\"true\"\n                                v-model=\"gameBoxDetail.Description\"></v-textarea>\n                </v-card-text>\n                <v-divider/>\n                <v-card-actions>\n                    <v-btn color=\"primary\" text @click=\"activateBox(gameBoxDetail.ChallengeID)\">{{$t('general.start')}}</v-btn>\n                    <v-spacer/>\n                    <v-btn color=\"primary\" text @click=\"closeDialog\">{{$t('general.close')}}</v-btn>\n                </v-card-actions>\n            </v-card>\n        </v-dialog>\n    </div>\n</template>\n\n\n<script>\nimport { EventBus } from '../router.js';\nexport default {\n    name: \"GameBox\",\n    $activeDialogId: null,\n\n    data() {\n        return {\n            showDetail: false,\n            gameBoxes: null,\n            gameBoxDetail: {\n                Title: '',\n                IP: '',\n                Port: '',\n                Description: ''\n            },\n            dialogVisible: false,  // Control the visibility of the dialog\n            timer: null,\n\n            info: null,\n            startForm: {\n                From: null,\n                To: null,\n            },\n\n            startTime: null,\n            endTime: null,\n        }\n    },\n    \n\n    methods: {\n        showDialog(gameBox) {\n            // console.log(gameBox);\n            this.gameBoxDetail = gameBox;\n            this.dialogVisible = true;  // Show the dialog\n        },\n\n        closeDialog() {\n            this.dialogVisible = false;  // Hide the dialog\n        },\n\n        getGameboxes() {\n            this.utils.GET(\"/team/gameboxes\").then(res => {\n                this.gameBoxes = res.map(gameBox => {\n                    return {\n                        ...gameBox,\n                        IsAttacked: !!gameBox.IsAttacked,  // 確保屬性是反應式\n                        IsDown: !!gameBox.IsDown\n                    };\n                });\n            });\n        },\n\n        getInfo() {\n            this.utils.GET(\"/team/info\").then(res => {\n                this.info = res\n            })\n        },\n\n        start() {\n                this.utils.POST('/team/start', this.startForm).then(res => {\n                    this.$message.success(res)\n                }).catch(err => {\n                    this.$message.error(err);\n                })\n        },\n\n        activateBox(id) {\n            this.$activeDialogId = id;\n            this.startForm.From = this.info.Id;\n            this.startForm.To = id;\n            // console.log(this.$activeDialogId);\n            // console.log()`Activating box with ID: ${id}`);\n            this.startTime = Date.now();  // 紀錄按下開始按鈕的時間戳\n            EventBus.$emit('start-time', this.startTime);\n            this.start();\n        },\n\n\n    },\n\n    mounted() {\n        this.getGameboxes();\n        this.timer = setInterval(this.getGameboxes, 5000);\n        this.getInfo()\n    },\n\n    beforeDestroy() {\n        clearInterval(this.timer);\n    }\n}\n</script>\n\n\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/components"}]}