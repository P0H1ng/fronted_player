{"remainingRequest":"/home/kali/fronted_player/node_modules/babel-loader/lib/index.js!/home/kali/fronted_player/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/home/kali/fronted_player/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/kali/fronted_player/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kali/fronted_player/src/components/GameBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kali/fronted_player/src/components/GameBox.vue","mtime":1725546369873},{"path":"/home/kali/fronted_player/node_modules/cache-loader/dist/cjs.js","mtime":1718176688802},{"path":"/home/kali/fronted_player/node_modules/babel-loader/lib/index.js","mtime":1718176688789},{"path":"/home/kali/fronted_player/node_modules/vuetify-loader/lib/loader.js","mtime":1718176689266},{"path":"/home/kali/fronted_player/node_modules/cache-loader/dist/cjs.js","mtime":1718176688802},{"path":"/home/kali/fronted_player/node_modules/vue-loader/lib/index.js","mtime":1718176689251}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJHYW1lQm94IiwKICAkYWN0aXZlRGlhbG9nSWQ6IG51bGwsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dEZXRhaWw6IGZhbHNlLAogICAgICBnYW1lQm94ZXM6IG51bGwsCiAgICAgIGdhbWVCb3hEZXRhaWw6IHsKICAgICAgICBUaXRsZTogJycsCiAgICAgICAgSVA6ICcnLAogICAgICAgIFBvcnQ6ICcnLAogICAgICAgIERlc2NyaXB0aW9uOiAnJwogICAgICB9LAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgLy8gQ29udHJvbCB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgZGlhbG9nCiAgICAgIHRpbWVyOiBudWxsLAogICAgICBpbmZvOiBudWxsLAogICAgICBzdGFydEZvcm06IHsKICAgICAgICBGcm9tOiBudWxsLAogICAgICAgIFRvOiBudWxsCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzaG93RGlhbG9nOiBmdW5jdGlvbiBzaG93RGlhbG9nKGdhbWVCb3gpIHsKICAgICAgLy8gY29uc29sZS5sb2coZ2FtZUJveCk7CiAgICAgIHRoaXMuZ2FtZUJveERldGFpbCA9IGdhbWVCb3g7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7IC8vIFNob3cgdGhlIGRpYWxvZwogICAgfSwKICAgIGNsb3NlRGlhbG9nOiBmdW5jdGlvbiBjbG9zZURpYWxvZygpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7IC8vIEhpZGUgdGhlIGRpYWxvZwogICAgfSwKICAgIGdldEdhbWVib3hlczogZnVuY3Rpb24gZ2V0R2FtZWJveGVzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy51dGlscy5HRVQoIi90ZWFtL2dhbWVib3hlcyIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmdhbWVCb3hlcyA9IHJlczsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0SW5mbzogZnVuY3Rpb24gZ2V0SW5mbygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnV0aWxzLkdFVCgiL3RlYW0vaW5mbyIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5pbmZvID0gcmVzOwogICAgICB9KTsKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gc3RhcnQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy51dGlscy5QT1NUKCcvdGVhbS9zdGFydCcsIHRoaXMuc3RhcnRGb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmVycm9yKGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIGFjdGl2YXRlQm94OiBmdW5jdGlvbiBhY3RpdmF0ZUJveChpZCkgewogICAgICB0aGlzLiRhY3RpdmVEaWFsb2dJZCA9IGlkOwogICAgICB0aGlzLnN0YXJ0Rm9ybS5Gcm9tID0gdGhpcy5pbmZvLklkOwogICAgICB0aGlzLnN0YXJ0Rm9ybS5UbyA9IGlkOyAvLyBjb25zb2xlLmxvZyh0aGlzLiRhY3RpdmVEaWFsb2dJZCk7CiAgICAgIC8vIGNvbnNvbGUubG9nKGBBY3RpdmF0aW5nIGJveCB3aXRoIElEOiAke2lkfWApOwoKICAgICAgdGhpcy5zdGFydCgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0R2FtZWJveGVzKCk7CiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5nZXRHYW1lYm94ZXMsIDUwMDApOwogICAgdGhpcy5nZXRJbmZvKCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICB9Cn07"},{"version":3,"sources":["GameBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,eAAA,EAAA,IAFA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,KADA;AAEA,MAAA,SAAA,EAAA,IAFA;AAGA,MAAA,aAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,EAAA,EAAA,EAFA;AAGA,QAAA,IAAA,EAAA,EAHA;AAIA,QAAA,WAAA,EAAA;AAJA,OAHA;AASA,MAAA,aAAA,EAAA,KATA;AASA;AACA,MAAA,KAAA,EAAA,IAVA;AAYA,MAAA,IAAA,EAAA,IAZA;AAaA,MAAA,SAAA,EAAA;AACA,QAAA,IAAA,EAAA,IADA;AAEA,QAAA,EAAA,EAAA;AAFA;AAbA,KAAA;AAkBA,GAvBA;AAyBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,OADA,EACA;AACA;AACA,WAAA,aAAA,GAAA,OAAA;AACA,WAAA,aAAA,GAAA,IAAA,CAHA,CAGA;AACA,KALA;AAOA,IAAA,WAPA,yBAOA;AACA,WAAA,aAAA,GAAA,KAAA,CADA,CACA;AACA,KATA;AAWA,IAAA,YAXA,0BAWA;AAAA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,GAAA;AACA,OAFA;AAGA,KAfA;AAiBA,IAAA,OAjBA,qBAiBA;AAAA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,YAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,IAAA,GAAA,GAAA;AACA,OAFA;AAGA,KArBA;AAuBA,IAAA,KAvBA,mBAuBA;AAAA;;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,aAAA,EAAA,KAAA,SAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,GAAA;AACA,OAFA,EAEA,KAFA,CAEA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA;AACA,OAJA;AAKA,KA7BA;AA+BA,IAAA,WA/BA,uBA+BA,EA/BA,EA+BA;AACA,WAAA,eAAA,GAAA,EAAA;AACA,WAAA,SAAA,CAAA,IAAA,GAAA,KAAA,IAAA,CAAA,EAAA;AACA,WAAA,SAAA,CAAA,EAAA,GAAA,EAAA,CAHA,CAIA;AACA;;AACA,WAAA,KAAA;AACA;AAtCA,GAzBA;AAoEA,EAAA,OApEA,qBAoEA;AACA,SAAA,YAAA;AACA,SAAA,KAAA,GAAA,WAAA,CAAA,KAAA,YAAA,EAAA,IAAA,CAAA;AACA,SAAA,OAAA;AACA,GAxEA;AA0EA,EAAA,aA1EA,2BA0EA;AACA,IAAA,aAAA,CAAA,KAAA,KAAA,CAAA;AACA;AA5EA,CAAA","sourcesContent":["<template>\n    <div>\n        <!-- 靶機資訊 -->\n        <div v-if=\"gameBoxes !== null\">\n            <v-list-item v-for=\"gameBox in gameBoxes\" :key=\"gameBox.ID\" @click=\"showDialog(gameBox)\">\n                <v-list-item-content>\n                    <v-list-item-title v-text=\"gameBox.Title\"/>\n                    <v-list-item-subtitle>{{gameBox.IP}}:{{gameBox.Port}}</v-list-item-subtitle>\n                    <v-list-item-subtitle>{{utils.FormatFloat(gameBox.Score)}} {{$t('general.score')}}</v-list-item-subtitle>\n                </v-list-item-content>\n\n                <v-list-item-action>\n                    <div v-if=\"!gameBox.IsAttacked && !gameBox.IsDown\">\n                        <v-chip class=\"ma-2\" color=\"green\" text-color=\"green\" outlined>Online</v-chip>\n                    </div>\n                    <div v-if=\"gameBox.IsDown\">\n                        <v-chip class=\"ma-2\" color=\"orange\" text-color=\"orange\" outlined>Down</v-chip>\n                    </div>\n                    <div v-if=\"gameBox.IsAttacked\">\n                        <v-chip class=\"ma-2\" color=\"red\" text-color=\"red\" outlined>Attacked</v-chip>\n                    </div>\n                </v-list-item-action>\n            </v-list-item>\n        </div>\n        <v-list-item v-if=\"gameBoxes === null || gameBoxes.length === 0\">\n            <p>{{$t('gamebox.empty')}}</p>\n        </v-list-item>\n\n        <!-- 靶機詳細資訊 -->\n        <v-dialog v-model=\"dialogVisible\" persistent width=\"500\">\n            <v-card>\n                <v-card-title class=\"headline\" primary-title>\n                    {{ gameBoxDetail.Title }}\n                </v-card-title>\n                <v-card-text v-if=\"$activeDialogId === gameBoxDetail.ChallengeID\">\n                    <p><b>{{gameBoxDetail.IP}}:{{gameBoxDetail.Port}}</b></p>\n                    <v-textarea filled auto-grow rows=\"4\" shaped :disabled=\"true\"\n                                v-model=\"gameBoxDetail.Description\"></v-textarea>\n                </v-card-text>\n                <v-divider/>\n                <v-card-actions>\n                    <v-btn color=\"primary\" text @click=\"activateBox(gameBoxDetail.ChallengeID)\">{{$t('general.start')}}</v-btn>\n                    <v-spacer/>\n                    <v-btn color=\"primary\" text @click=\"closeDialog\">{{$t('general.close')}}</v-btn>\n                </v-card-actions>\n            </v-card>\n        </v-dialog>\n    </div>\n</template>\n\n\n<script>\nexport default {\n    name: \"GameBox\",\n    $activeDialogId: null,\n\n    data() {\n        return {\n            showDetail: false,\n            gameBoxes: null,\n            gameBoxDetail: {\n                Title: '',\n                IP: '',\n                Port: '',\n                Description: ''\n            },\n            dialogVisible: false,  // Control the visibility of the dialog\n            timer: null,\n\n            info: null,\n            startForm: {\n                From: null,\n                To: null,\n            }\n        }\n    },\n\n    methods: {\n        showDialog(gameBox) {\n            // console.log(gameBox);\n            this.gameBoxDetail = gameBox;\n            this.dialogVisible = true;  // Show the dialog\n        },\n\n        closeDialog() {\n            this.dialogVisible = false;  // Hide the dialog\n        },\n\n        getGameboxes() {\n            this.utils.GET(\"/team/gameboxes\").then(res => {\n                this.gameBoxes = res;\n            });\n        },\n\n        getInfo() {\n            this.utils.GET(\"/team/info\").then(res => {\n                this.info = res\n            })\n        },\n\n        start() {\n                this.utils.POST('/team/start', this.startForm).then(res => {\n                    this.$message.success(res)\n                }).catch(err => {\n                    this.$message.error(err);\n                })\n        },\n\n        activateBox(id) {\n            this.$activeDialogId = id;\n            this.startForm.From = this.info.Id;\n            this.startForm.To = id;\n            // console.log(this.$activeDialogId);\n            // console.log(`Activating box with ID: ${id}`);\n            this.start();\n        },\n\n\n    },\n\n    mounted() {\n        this.getGameboxes();\n        this.timer = setInterval(this.getGameboxes, 5000);\n        this.getInfo()\n    },\n\n    beforeDestroy() {\n        clearInterval(this.timer);\n    }\n}\n</script>\n\n\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/components"}]}