{"remainingRequest":"/home/kali/fronted_player/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kali/fronted_player/src/components/SubmitFlag.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kali/fronted_player/src/components/SubmitFlag.vue","mtime":1725798633811},{"path":"/home/kali/fronted_player/node_modules/cache-loader/dist/cjs.js","mtime":1718176688802},{"path":"/home/kali/fronted_player/node_modules/babel-loader/lib/index.js","mtime":1718176688789},{"path":"/home/kali/fronted_player/node_modules/vuetify-loader/lib/loader.js","mtime":1718176689266},{"path":"/home/kali/fronted_player/node_modules/cache-loader/dist/cjs.js","mtime":1718176688802},{"path":"/home/kali/fronted_player/node_modules/vue-loader/lib/index.js","mtime":1718176689251}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAnLi4vcm91dGVyLmpzJzsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJTdWJtaXRGbGFnIiwKCiAgICBkYXRhOiAoKSA9PiAoewogICAgICAgIGluZm86IG51bGwsCiAgICAgICAgaW5wdXRGbGFnOiAnJywKCiAgICAgICAgbWVzc2FnZTogJycsCiAgICAgICAgc25hY2tCYXJWaXNpYmxlOiBmYWxzZSwKICAgICAgICBzbmFja0JhckNvbG9yOiAnc3VjY2VzcycsCiAgICAgICAgc3RhcnRUaW1lOiBudWxsLAogICAgICAgIGVuZFRpbWU6IG51bGwsCiAgICAgICAgZWxhcHNlZFRpbWU6ICcnLAogICAgfSksCgogICAgbW91bnRlZCgpIHsKICAgICAgICB0aGlzLmdldEluZm8oKQogICAgICAgIEV2ZW50QnVzLiRvbignc3RhcnQtdGltZScsICh0aW1lKSA9PiB7CiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSB0aW1lOwogICAgICAgIH0pOwogICAgfSwKCiAgICBtZXRob2RzOiB7CiAgICAgICAgZ2V0SW5mbygpIHsKICAgICAgICAgICAgdGhpcy51dGlscy5HRVQoIi90ZWFtL2luZm8iKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmluZm8gPSByZXMKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIHN1Ym1pdEZsYWcoKSB7CiAgICAgICAgICAgIHRoaXMucmVjb3JkU29sdmVUaW1lKCk7CiAgICAgICAgICAgIGF4aW9zLnBvc3QodGhpcy51dGlscy5iYXNlVVJMICsgJy9mbGFnJywgewogICAgICAgICAgICAgICAgJ2ZsYWcnOiB0aGlzLmlucHV0RmxhZywKICAgICAgICAgICAgICAgICd0aW1lJzogdGhpcy5lbGFwc2VkVGltZQogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiB0aGlzLmluZm8uVG9rZW4KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy5pbnB1dEZsYWcgPSAnJwogICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gcmVzLmRhdGEuZGF0YQogICAgICAgICAgICAgICAgdGhpcy5zbmFja0JhckNvbG9yID0gJ3N1Y2Nlc3MnCiAgICAgICAgICAgICAgICB0aGlzLnNuYWNrQmFyVmlzaWJsZSA9IHRydWUKICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IGVyci5yZXNwb25zZS5kYXRhLm1zZwogICAgICAgICAgICAgICAgdGhpcy5zbmFja0JhckNvbG9yID0gJ2Vycm9yJwogICAgICAgICAgICAgICAgdGhpcy5zbmFja0JhclZpc2libGUgPSB0cnVlCiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgZ2V0Q3VybENvbW1hbmQoKSB7CiAgICAgICAgICAgIC8vIFRoZSBjdXJsIGNvbW1hbmQgaXMgZGlmZmVyZW50IGluIHdpbmRvd3MgYW5kICpuaXggb3MuCiAgICAgICAgICAgIGlmICgobmF2aWdhdG9yLnBsYXRmb3JtID09PSAiV2luMzIiKSB8fCAobmF2aWdhdG9yLnBsYXRmb3JtID09PSAiV2luZG93cyIpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYGN1cmwgLVggUE9TVCAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L2FwaS9mbGFnIC1IICJBdXRob3JpemF0aW9uOiAke3RoaXMuaW5mby5Ub2tlbn0iIC1kICJ7IFxcImZsYWdcXCI6IFxcInlvdXJfZmxhZ19oZXJlXFwiIH0iYAogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBgY3VybCAtWCBQT1NUICR7d2luZG93LmxvY2F0aW9uLm9yaWdpbn0vYXBpL2ZsYWcgLUggJ0F1dGhvcml6YXRpb246ICR7dGhpcy5pbmZvLlRva2VufScgLWQgJ3sgImZsYWciOiAieW91cl9mbGFnX2hlcmUiIH0nYAogICAgICAgIH0sCiAgICAgICAgcmVjb3JkU29sdmVUaW1lKCkgewogICAgICAgICAgICAvLyDoqJjpjITntZDmnZ/mmYLplpMKICAgICAgICAgICAgdGhpcy5lbmRUaW1lID0gRGF0ZS5ub3coKTsKCiAgICAgICAgICAgIC8vIOeiuuS/neaciSBzdGFydFRpbWUg5omN6YCy6KGM6KiI566XCiAgICAgICAgICAgIGlmICh0aGlzLnN0YXJ0VGltZSkgewogICAgICAgICAgICAgICAgLy8g6KiI566X6Kej6aGM5pmC6ZaT77yM5Zau5L2N54K656eSCiAgICAgICAgICAgICAgICB0aGlzLmVsYXBzZWRUaW1lID0gKHRoaXMuZW5kVGltZSAtIHRoaXMuc3RhcnRUaW1lKSAvIDEwMDA7CgogICAgICAgICAgICAgICAgLy8g6YCZ6KOh5Y+v5Lul55m86YCB6KuL5rGC5bCHIGVsYXBzZWRUaW1lIOabtOaWsOWIsOW+jOerrwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEVsYXBzZWQgdGltZTogJHt0aGlzLmVsYXBzZWRUaW1lfSBzZWNvbmRzYCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTdGFydCB0aW1lIGlzIG5vdCBhdmFpbGFibGUuJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["SubmitFlag.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SubmitFlag.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <v-card class=\"mx-auto\" v-if=\"info !== null\">\n        <v-snackbar v-model=\"snackBarVisible\" :color=\"snackBarColor\" :timeout=\"3000\" :top=\"true\">{{ message }}\n        </v-snackbar>\n\n        <v-card-title>\n            <span style=\"margin-right: 20px;\">{{$t('flag.submit_flag')}}</span>\n            <v-text-field\n                    @keyup.enter.native=\"submitFlag\"\n                    v-model=\"inputFlag\"\n                    :label=\"$t('flag.input_your_flag')\"\n                    clearable\n            ></v-text-field>\n            <v-btn style=\"margin-left: 20px;\" @click=\"submitFlag\">\n                {{$t('flag.submit')}}\n            </v-btn>\n        </v-card-title>\n        <v-card-text>\n            <h2>POST <code style=\"background-color: #1c1c1c\">/flag</code></h2><br>\n            <span><b>Header</b></span><br>\n            <span>Content-Type: application/json</span><br>\n            <span>Authorization: {{info.Token}}</span><br>\n            <p><b>Body</b></p>\n            <code class=\"pa-3\" style=\"width: 100%; background-color: #1c1c1c; color: rgba(255, 255, 255, 0.7);\">{\"flag\":\n                \"your_flag_here\"}</code>\n            <br><br>\n            <v-divider></v-divider>\n            <br>\n            <p>\n                <code class=\"pa-3\" style=\"width: 100%; background-color: #1c1c1c; color: rgba(255, 255, 255, 0.7);\">{{getCurlCommand()}}</code>\n            </p>\n        </v-card-text>\n    </v-card>\n</template>\n\n<script>\n    import axios from \"axios\";\n    import { EventBus } from '../router.js';\n\n    export default {\n        name: \"SubmitFlag\",\n\n        data: () => ({\n            info: null,\n            inputFlag: '',\n\n            message: '',\n            snackBarVisible: false,\n            snackBarColor: 'success',\n            startTime: null,\n            endTime: null,\n            elapsedTime: '',\n        }),\n\n        mounted() {\n            this.getInfo()\n            EventBus.$on('start-time', (time) => {\n            this.startTime = time;\n            });\n        },\n\n        methods: {\n            getInfo() {\n                this.utils.GET(\"/team/info\").then(res => {\n                    this.info = res\n                })\n            },\n            submitFlag() {\n                this.recordSolveTime();\n                axios.post(this.utils.baseURL + '/flag', {\n                    'flag': this.inputFlag,\n                    'time': this.elapsedTime\n                }, {\n                    headers: {\n                        'Authorization': this.info.Token\n                    }\n                }).then(res => {\n                    this.inputFlag = ''\n                    this.message = res.data.data\n                    this.snackBarColor = 'success'\n                    this.snackBarVisible = true\n                }).catch(err => {\n                    this.message = err.response.data.msg\n                    this.snackBarColor = 'error'\n                    this.snackBarVisible = true\n                });\n            },\n            getCurlCommand() {\n                // The curl command is different in windows and *nix os.\n                if ((navigator.platform === \"Win32\") || (navigator.platform === \"Windows\")) {\n                    return `curl -X POST ${window.location.origin}/api/flag -H \"Authorization: ${this.info.Token}\" -d \"{ \\\\\"flag\\\\\": \\\\\"your_flag_here\\\\\" }\"`\n                }\n                return `curl -X POST ${window.location.origin}/api/flag -H 'Authorization: ${this.info.Token}' -d '{ \"flag\": \"your_flag_here\" }'`\n            },\n            recordSolveTime() {\n                // 記錄結束時間\n                this.endTime = Date.now();\n\n                // 確保有 startTime 才進行計算\n                if (this.startTime) {\n                    // 計算解題時間，單位為秒\n                    this.elapsedTime = (this.endTime - this.startTime) / 1000;\n\n                    // 這裡可以發送請求將 elapsedTime 更新到後端\n                    console.log(`Elapsed time: ${this.elapsedTime} seconds`);\n                } else {\n                    console.error('Start time is not available.');\n                }\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}