{"remainingRequest":"/home/kali/fronted_player/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kali/fronted_player/src/components/Timer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kali/fronted_player/src/components/Timer.vue","mtime":1725528217781},{"path":"/home/kali/fronted_player/node_modules/cache-loader/dist/cjs.js","mtime":1718176688802},{"path":"/home/kali/fronted_player/node_modules/babel-loader/lib/index.js","mtime":1718176688789},{"path":"/home/kali/fronted_player/node_modules/vuetify-loader/lib/loader.js","mtime":1718176689266},{"path":"/home/kali/fronted_player/node_modules/cache-loader/dist/cjs.js","mtime":1718176688802},{"path":"/home/kali/fronted_player/node_modules/vue-loader/lib/index.js","mtime":1718176689251}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJUaW1lciIsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHRpbWVyOiBudWxsLAogICAgICAgICAgICByZXF1ZXN0VGltZXI6IG51bGwsCgogICAgICAgICAgICB0aW1lOiBudWxsLAogICAgICAgICAgICB5ZWFyOiAwLAogICAgICAgICAgICBtb250aDogMCwKICAgICAgICAgICAgZGF5OiAwLAogICAgICAgICAgICBob3VyOiAwLAogICAgICAgICAgICBtaW51dGU6IDAsCiAgICAgICAgICAgIHNlY29uZDogMCwKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICB0aGlzLmdldFRpbWUoKQogICAgICAgIHRoaXMucmVxdWVzdFRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5nZXRUaW1lLCAxMDAwMCkKICAgICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy50aW1lVGljaywgMTAwMCkKICAgICAgICB0aGlzLnVwZGF0ZVRpbWUoKSAgLy8g5Yid5aeL5YyW5pmC5YWI6aGv56S65LiA5qyh55W25YmN5pmC6ZaTCiAgICB9LAoKICAgIGJlZm9yZURlc3Ryb3koKSB7CiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlcXVlc3RUaW1lcikKICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpCiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgICAgICBnZXRUaW1lKCkgewogICAgICAgICAgICB0aGlzLnV0aWxzLkdFVCgiL3RpbWUiKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnRpbWUgPSByZXMKICAgICAgICAgICAgICAgIHRoaXMudGltZVRpY2soKQogICAgICAgICAgICB9KQogICAgICAgIH0sCgogICAgICAgIC8vIOaZgumWk+WAkuaVuAogICAgICAgIC8vIHRpbWVUaWNrKCkgewogICAgICAgIC8vICAgICB0aGlzLnRpbWUuUm91bmRSZW1haW5UaW1lLS0KICAgICAgICAvLyAgICAgdGhpcy5taW51dGUgPSBNYXRoLmZsb29yKHRoaXMudGltZS5Sb3VuZFJlbWFpblRpbWUgLyA2MCkKICAgICAgICAvLyAgICAgdGhpcy5zZWNvbmQgPSB0aGlzLnRpbWUuUm91bmRSZW1haW5UaW1lIC0gdGhpcy5taW51dGUgKiA2MAogICAgICAgIC8vICAgICBpZiAodGhpcy50aW1lLlJvdW5kUmVtYWluVGltZSA8PSAwKSB7CiAgICAgICAgLy8gICAgICAgICB0aGlzLnRpbWUuUm91bmRSZW1haW5UaW1lID0gdGhpcy50aW1lLkR1cmF0aW9uICogNjAKICAgICAgICAvLyAgICAgICAgIHRoaXMudGltZS5Ob3dSb3VuZCsrCiAgICAgICAgLy8gICAgIH0KICAgICAgICAvLyB9CgogICAgICAgIHVwZGF0ZVRpbWUoKSB7CiAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkKICAgICAgICAgICAgdGhpcy55ZWFyID0gbm93LmdldEZ1bGxZZWFyKCkKICAgICAgICAgICAgdGhpcy5tb250aCA9IG5vdy5nZXRNb250aCgpICsgMSAgLy8g5pyI5Lu95b6eIDAg6ZaL5aeL77yM5Zug5q2k6KaBICsxCiAgICAgICAgICAgIHRoaXMuZGF5ID0gbm93LmdldERhdGUoKQogICAgICAgICAgICB0aGlzLmhvdXIgPSBub3cuZ2V0SG91cnMoKQogICAgICAgICAgICB0aGlzLm1pbnV0ZSA9IG5vdy5nZXRNaW51dGVzKCkKICAgICAgICAgICAgdGhpcy5zZWNvbmQgPSBub3cuZ2V0U2Vjb25kcygpCiAgICAgICAgfQogICAgfSwKfQo="},{"version":3,"sources":["Timer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Timer.vue","sourceRoot":"src/components","sourcesContent":["<!-- 註解掉的部份是原本第幾輪的倒數計時器，現在改成顯示系統時間 -->\n\n<template>\n    <v-card-text class=\"text-center\" v-if=\"time !== null\">\n        <div v-if=\"time.Status === 'on'\">\n            <!-- <div>{{$t('timer.til_round_end',{round: time.NowRound})}}</div>\n            <p class=\"display-1 text--primary\">\n                {{minute}} {{$t('general.minute')}} {{second}} {{$t('general.second')}}\n            </p> -->\n            <p class=\"display-1 text--primary\">\n                系統時間\n            </p>\n            <p class=\"display-1 text--primary\">\n                {{year}} 年 {{month}} 月 {{day}} 日\n            </p>\n            <p class=\"display-1 text--primary\">\n                {{hour}} 時 {{minute}} 分 {{second}} 秒\n            </p>\n        </div>\n        <div v-else-if=\"time.Status === 'wait'\">\n            <p class=\"display-1 text--primary\">\n                {{$t('timer.not_begin')}}\n            </p>\n        </div>\n        <div v-else-if=\"time.Status === 'pause'\">\n            <p class=\"display-1 text--primary\">\n                {{$t('timer.pause')}}\n            </p>\n        </div>\n        <div v-else-if=\"time.Status === 'end'\">\n            <p class=\"display-1 text--primary\">\n                {{$t('timer.end')}}\n            </p>\n        </div>\n    </v-card-text>\n</template>\n\n<script>\n    export default {\n        name: \"Timer\",\n        data() {\n            return {\n                timer: null,\n                requestTimer: null,\n\n                time: null,\n                year: 0,\n                month: 0,\n                day: 0,\n                hour: 0,\n                minute: 0,\n                second: 0,\n            }\n        },\n        mounted() {\n            this.getTime()\n            this.requestTimer = setInterval(this.getTime, 10000)\n            this.timer = setInterval(this.timeTick, 1000)\n            this.updateTime()  // 初始化時先顯示一次當前時間\n        },\n\n        beforeDestroy() {\n            clearInterval(this.requestTimer)\n            clearInterval(this.timer)\n        },\n\n        methods: {\n            getTime() {\n                this.utils.GET(\"/time\").then(res => {\n                    this.time = res\n                    this.timeTick()\n                })\n            },\n\n            // 時間倒數\n            // timeTick() {\n            //     this.time.RoundRemainTime--\n            //     this.minute = Math.floor(this.time.RoundRemainTime / 60)\n            //     this.second = this.time.RoundRemainTime - this.minute * 60\n            //     if (this.time.RoundRemainTime <= 0) {\n            //         this.time.RoundRemainTime = this.time.Duration * 60\n            //         this.time.NowRound++\n            //     }\n            // }\n\n            updateTime() {\n                const now = new Date()\n                this.year = now.getFullYear()\n                this.month = now.getMonth() + 1  // 月份從 0 開始，因此要 +1\n                this.day = now.getDate()\n                this.hour = now.getHours()\n                this.minute = now.getMinutes()\n                this.second = now.getSeconds()\n            }\n        },\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}