{"remainingRequest":"/home/osboxes/Cardinal_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/osboxes/Cardinal_frontend/src/components/Timer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/osboxes/Cardinal_frontend/src/components/Timer.vue","mtime":1706256252233},{"path":"/home/osboxes/Cardinal_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1706256287886},{"path":"/home/osboxes/Cardinal_frontend/node_modules/babel-loader/lib/index.js","mtime":1706256287673},{"path":"/home/osboxes/Cardinal_frontend/node_modules/vuetify-loader/lib/loader.js","mtime":1706256286671},{"path":"/home/osboxes/Cardinal_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1706256287886},{"path":"/home/osboxes/Cardinal_frontend/node_modules/vue-loader/lib/index.js","mtime":1706256337311}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJUaW1lciIsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHRpbWVyOiBudWxsLAogICAgICAgICAgICByZXF1ZXN0VGltZXI6IG51bGwsCgogICAgICAgICAgICB0aW1lOiBudWxsLAogICAgICAgICAgICBtaW51dGU6IDAsCiAgICAgICAgICAgIHNlY29uZDogMCwKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICB0aGlzLmdldFRpbWUoKQogICAgICAgIHRoaXMucmVxdWVzdFRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5nZXRUaW1lLCAxMDAwMCkKICAgICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy50aW1lVGljaywgMTAwMCkKICAgIH0sCgogICAgYmVmb3JlRGVzdHJveSgpIHsKICAgICAgICBjbGVhckludGVydmFsKHRoaXMucmVxdWVzdFRpbWVyKQogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcikKICAgIH0sCgogICAgbWV0aG9kczogewogICAgICAgIGdldFRpbWUoKSB7CiAgICAgICAgICAgIHRoaXMudXRpbHMuR0VUKCIvdGltZSIpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMudGltZSA9IHJlcwogICAgICAgICAgICAgICAgdGhpcy50aW1lVGljaygpCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCiAgICAgICAgLy8g5pe26Ze05YCS5pWwCiAgICAgICAgdGltZVRpY2soKSB7CiAgICAgICAgICAgIHRoaXMudGltZS5Sb3VuZFJlbWFpblRpbWUtLQogICAgICAgICAgICB0aGlzLm1pbnV0ZSA9IE1hdGguZmxvb3IodGhpcy50aW1lLlJvdW5kUmVtYWluVGltZSAvIDYwKQogICAgICAgICAgICB0aGlzLnNlY29uZCA9IHRoaXMudGltZS5Sb3VuZFJlbWFpblRpbWUgLSB0aGlzLm1pbnV0ZSAqIDYwCiAgICAgICAgICAgIGlmICh0aGlzLnRpbWUuUm91bmRSZW1haW5UaW1lIDw9IDApIHsKICAgICAgICAgICAgICAgIHRoaXMudGltZS5Sb3VuZFJlbWFpblRpbWUgPSB0aGlzLnRpbWUuRHVyYXRpb24gKiA2MAogICAgICAgICAgICAgICAgdGhpcy50aW1lLk5vd1JvdW5kKysKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCn0K"},{"version":3,"sources":["Timer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Timer.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <v-card-text class=\"text-center\" v-if=\"time !== null\">\n        <div v-if=\"time.Status === 'on'\">\n            <div>{{$t('timer.til_round_end',{round: time.NowRound})}}</div>\n            <p class=\"display-1 text--primary\">\n                {{minute}} {{$t('general.minute')}} {{second}} {{$t('general.second')}}\n            </p>\n        </div>\n        <div v-else-if=\"time.Status === 'wait'\">\n            <p class=\"display-1 text--primary\">\n                {{$t('timer.not_begin')}}\n            </p>\n        </div>\n        <div v-else-if=\"time.Status === 'pause'\">\n            <p class=\"display-1 text--primary\">\n                {{$t('timer.pause')}}\n            </p>\n        </div>\n        <div v-else-if=\"time.Status === 'end'\">\n            <p class=\"display-1 text--primary\">\n                {{$t('timer.end')}}\n            </p>\n        </div>\n    </v-card-text>\n</template>\n\n<script>\n    export default {\n        name: \"Timer\",\n        data() {\n            return {\n                timer: null,\n                requestTimer: null,\n\n                time: null,\n                minute: 0,\n                second: 0,\n            }\n        },\n        mounted() {\n            this.getTime()\n            this.requestTimer = setInterval(this.getTime, 10000)\n            this.timer = setInterval(this.timeTick, 1000)\n        },\n\n        beforeDestroy() {\n            clearInterval(this.requestTimer)\n            clearInterval(this.timer)\n        },\n\n        methods: {\n            getTime() {\n                this.utils.GET(\"/time\").then(res => {\n                    this.time = res\n                    this.timeTick()\n                })\n            },\n\n            // 时间倒数\n            timeTick() {\n                this.time.RoundRemainTime--\n                this.minute = Math.floor(this.time.RoundRemainTime / 60)\n                this.second = this.time.RoundRemainTime - this.minute * 60\n                if (this.time.RoundRemainTime <= 0) {\n                    this.time.RoundRemainTime = this.time.Duration * 60\n                    this.time.NowRound++\n                }\n            }\n        },\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}